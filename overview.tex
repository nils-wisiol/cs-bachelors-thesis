\chapter{A brief Overview of Proof Systems} \label{chpOverview}
  After defining the important notions for this thesis, we will give a brief overview of some important results in the field of optimal proof systems.

  \section{Proof Systems and the $\P$ versus $\NP$ question}
  
  One basic lemma that is widely used formalizes a part of the connection between optimal proof systems and polynomial many-one-reducibility. Later in this thesis, we will use it to proof corollary \ref{corHardSets}. The following proof is mainly taken from KÃ¶bler et al. We will omit the proof for optimal proof system, as it easily follows from the proof for p-optimal ones.

  \begin{lemma}[\cite{KMT03}] \label{lemManyOneProofSystem}
    If \(A\) has a (p-)optimal proof system and if \(B \redmany A\), then \(B\) has a (p-) optimal proof system, too.
  \end{lemma}

  \begin{proof}
    Let \(h\) be a p-optimal proof system for \(A\) and let \(B\) many-one reduce to \(A\) via \(f \in \FP\), that is \(x \in B \Leftrightarrow f(x) \in A\). Then \(h'\) defined by
      \[
        h'(\langle x, w \rangle) =
        \begin{cases}
          x & (h(w) = f(x)), \\
          \perp & (\text{otherwise}), \\
        \end{cases}
      \]
    is a proof system for \(B\), as \(h(w) = f(x) \in A\) is equivalent to \(x \in B\). To show \(h'\) is optimal, let \(g'\) be a proof system for \(B\). In order to obtain a proof system for \(A\), let \(g\) be
      \[
        g(bw) =
        \begin{cases}
          h(w) & (b = 0), \\
          f(g'(w)) & (b = 1). \\
        \end{cases}
      \]
    Since both \(h(w)\) and \(f(g'(w))\) are in \(A\) and \(h\) is a proof system for \(A\), \(g\) is also a proof system for \(A\). As \(h\) is p-optimal, there is a function \(t \in \FP\) translating \(g\)-proofs to \(h\)-proofs implying that
    \[
      h(t(1w)) = g(1w) = f(g'(w)).
    \]
    This implies \(h'(\langle g'(w), t(1w) \rangle ) = g'(w)\). Hence, \(h'\) p-simulates \(g'\).
  \end{proof}

  In contraposition to this, we can state that for \(B \redmany A\), if \(B\) has no (p-)optimal proof system, then \(A\) has not either.

  The following lemma gives a partial answer to the basic question what languages do have optimal proof systems. Although Koebler et al. omitted the proof of the following theorem due to its straightforwardness, we will give a proof for the purpose of this thesis.

  \begin{lemma}[\cite{KMT03}] \label{lemPHasOptimalProofSystem}
   \begin{enumerate}[(i)]
    \item Every language in \(\P\) has a p-optimal proof system.
    \item Every language in \(\NP\) has an optimal proof system.
   \end{enumerate}
  \end{lemma}

  \begin{proof}
    \begin{enumerate}[(i)]
      \item 
        Let \(L \in \P\). Then there is a function \(f \in \FP\) with \(f(w) = 1 \Leftrightarrow w \in L\). To show there is a proof system, let \(h\) be defined by
        \[
          h(w) =
          \begin{cases}
            w & (f(w) = 1), \\
            \perp & (\text{otherwise}). \\
          \end{cases}
        \]
        Then \(h\) is a proof system for \(L\). To show \(h\) is optimal, let \(h'\) be an arbitrary proof system for \(L\). Then \(h' \in \FP\) by definition and we can translate \(h'\)-proofs with \(h'\) in polynomial time into \(h\)-proofs, in formulas
        \[
          h(h'(w)) = h'(w).
        \]
        Therefore, \(h\) p-simulates every proof system \(h'\).
      \item
        Let \(L \in \NP\). Then there is a nondeterministic Turing transducer \(M\) deciding \(L\) in polynomial time. Let \(f_i(x) \in \FP\) be the function calculating the \(i\)-th path of the nondeterministic calculation of \(M\). Finally, let \(h\) be defined by
        \[
          h(\langle i, w \rangle) =
          \begin{cases}
            f_i(w) & (f_i(w) \text{ accepts}), \\
            \perp & (\text{otherwise}). \\
          \end{cases}
        \]
        Then \(h \in \FP\) is a proof system for \(L\). To show \(h\) is optimal, let \(h'\) be an arbitrary proof system for \(L\). Let \(g\) be a function that maps an \(w \in L\) to an \(i\) such that \(f_i(w)\) accepts in polynomial time. Notice that \(g\) may be not in \(\FP\). With these definitions, we obtain
        \[
          h(\langle g(h'(w)), h'(w) \rangle) = h'(w).
        \]
        Therefore, \(h\) simulates every proof system \(h'\) via the translating function
          \[w \mapsto \langle g(h'(w)), h'(w) \rangle.\]
    \end{enumerate}
  \end{proof}

  This implies \(\NP \subseteq \OPT\). By stating different properties for \(\P\) and \(\NP\), the lemma connects to the \(\P\)-\(\NP\)-question. If one would find a set in \(\NP\) without an p-optimal proof system, one would have separated \(\P\) from \(\NP\).

  \begin{corollary}
    If there is no p-optimal proof system for \(\SAT\), then \(\P \neq \NP\).
  \end{corollary}  
  
  In order to prove proposition \ref{prpNPcoNP}, we will show two lemmata of which the first is taken from the work of Cook and Reckhow \cite{CR79}. It gives an equivalent formulation of the question whether \(\NP = \coNP\).

  \begin{lemma} \label{lemNPisCoNP}
   \(\NP = \coNP\) if and only if \(\TAUT \in \NP\).
  \end{lemma}

  \begin{proof}
    Without further assumptions, we can show by using a nondeterministic Turing transducer, that an arbitrary formula is not a tautology in polynomial time by guessing and verifying an assignment for which the formula is falsified. Thus, \(\overline{\TAUT} \in \NP\).

    For every \(L \in \NP\), there is a function \(f \in \FP\) such that \(x \in L \Leftrightarrow f(x) \in \overline{\TAUT}\). We will show this as follows. As \(\SAT\) is \(\redmany\)-complete for \(\NP\), we can reduce every \(L \in \NP\) and obtain an \(f' \in \FP\) with \(x \in L \Leftrightarrow f'(x) \in \SAT\). Hence, there is a truth assignment for \(f'(x)\) such that \(f'(x)\) yields true. By negating, we obtain the existence of a truth assignment such that \(\neg f'(x)\) is false. Consequently, \(\neg f'(x) \in \overline{\TAUT}\). Notice that the negation of \(f'(x)\) can be done efficiently. By choosing \(f(x) = \neg f'(x)\), we obtain \(f \in \FP\) with the stated properties.

    Assume \(\TAUT \in \NP\), and let \(L\) be an arbitrary language with \(L \in \NP\). As shown above, there is a function \(f \in \FP\) such that \(x \in L \Leftrightarrow f(x) \in \overline{\TAUT}\) respectively \(x \in \overline{L} \Leftrightarrow f(x) \in \TAUT\). Since \(\TAUT \in \NP\), for any given \(x \in \Sigma^*\) we can in nondeterministic polynomial time decide whether \(f(x)\) is in \(\TAUT\). Thus we also can decide in nondeterministic polynomial time whether \(x \in \overline{L}\), as \(f \in \FP\). It follows that \(\overline{L} \in \NP\). As this proves that \(\NP\) is closed under complement, we obtain \(\NP \subseteq \coNP\). To see that \(\coNP \subseteq \NP\), let an arbitrary language \(\overline{L}\) be in \(\coNP\). By definition we obtain \(L \in \NP\). As \(\NP\) is closed under complement, \(\overline{L} \in \NP\). Thus, \(\coNP \subseteq \NP\).

    Assume \(\TAUT \notin \NP\), then \(\overline{\TAUT} \notin \coNP\). As we have seen above, \(\overline{\TAUT} \in \NP\). Hence \(\NP \neq \coNP\).
  \end{proof}

  The second lemma connects with the theory of proof systems by formulating a necessary and sufficient condition for a language being in \(\NP\) \cite{CR79}.

  \begin{lemma} \label{lemNPPolyBoundProofSystem}
    A set \(L \neq \emptyset\) is in \(\NP\) if and only if \(L\) has a polynomially bounded proof system.
  \end{lemma}

  \begin{proof}
   Assume \(L \in \NP\), then some nondeterministic Turing transducer \(M\) accepts \(L\) in polynomial time. Let \(f_i(x) \in \FP\) be the function calculating the \(i\)-th path of the nondeterministic calculation of \(M\). We define \(f\) by
   \[
     f(\langle i, x \rangle) =
     \begin{cases}
       x & (f_i(x) \text{ accepts}), \\
       \perp & (\text{otherwise}). \\
     \end{cases}
   \]
   Then \(f\) is a polynomially bounded proof system for \(L\).

   Conversely, assume \(f\) is a polynomially bounded proof system for \(L\). Then a nondeterministic Turing transducer on input \(y\) can guess a proof \(x\) and verify \(f(x) = y\).
  \end{proof}

  Putting lemma \ref{lemNPisCoNP} and \ref{lemNPPolyBoundProofSystem} together, we obtain proposition \ref{prpNPcoNP},
  \[
    \NP = \coNP \Leftrightarrow \text{ there is a polynomially bounded proof system for } \TAUT.
  \]
  Using this theorem, one tried to seperate \(\NP\) from \(\coNP\) by studying more and more powerful proof systems, showing that they are not polynomially bounded \cite{KMT03}. As mentioned before, there was no success on answering this questions until now. To take the notion of optimal proof systems into account, one could ask if there is an optimal or even p-optimal proof system for \(\TAUT\). If that were the case, then the existence of one specific proof system that is not polynomially bounded would suffice to proof that \(\NP \neq \coNP\) and hence \(\P \neq \NP\) \cite{KMT03}.

  Kraj\'{\i}cek and Pudl{\'a}k proved a sufficient condition for the existence of optimal proof systems for \(\TAUT\) \cite{KP89}.

  \begin{theorem}
    If \(\NE = \coNE\) then optimal proof systems for \(\TAUT\) exist. If \(\E = \NE\) then p-optimal proof systems for \(\TAUT\) exists.
  \end{theorem}

  We will omit their proof in this thesis, since it uses many notions of formal logics and a huge equivalence theorem not introduced here.

  With these results, we will further investigate the question what languages possess optimal proof systems.

  \section{Closure Properties of $\OPT$} \TODO{improve title}

  In this section, we will investigate if languages similar to an language that is known to possess an optimal proof system also possess optimal proof systems. We will state these results here separately as they interesting by them selfs. Later, we will use them to obtain more languages not possessing an optimal proof system.

  \begin{lemma}
    Let \(L\) be a language not possessing an optimal proof system. Then \(bL = \{ w \in L : bw \}\) with a bit \(b \in \Sigma\) does not possess an optimal proof system, too. \(L\) and \(bL\) are polynomial time equivalent.
  \end{lemma}

  Although the contraposition of this lemma---if \(bL \in \OPT\), then \(L \in \OPT\)---is easier to state, we give this version as we will use the proposition on not possessing an optimal proof system later on.
  
  \begin{proof}
    We will proof the contraposition. Assume \(h\) is an optimal proof system for \(bL\). Let \(g\) a function that removes the first bit of a string, that is \(g(bx) = x\). Then \(g \in \FP\). We obtain an proof system \(g \circ h\) for the language \(L\). To show that \(g \circ h\) is optimal, let \(h'\) be an arbitrary proof system for \(L\). Let \(g' \in \FP\) be the function attaching the bit \(b\) to the begin of a string, \(g'(x) = bx\). Notice that for any \(w \in bL\), we obtain \(g'(g(w)) = w\). Combining \(g'\) and \(h'\) to \(g' \circ h'\), we obtain a proof system for \(bL\). As \(h\) is optimal, there is a polynomial bounded function \(f\) with \(h(f(x)) = g'(h'(x))\). Using \(g\), we obtain \(g(h(f(x))) = g(g'(h(x))) = h(x)\). Hence, \(g \circ h\) simulates every proof system \(h\) for \(L\).

    Using \(g\) respectively \(g'\), we obtain \(bL \redmany L\) respectively \(L \redmany bL\).
  \end{proof}

  Using this lemma we can obtain further languages not possessing an optimal proof system.

  \begin{lemma}
    Let \(L\) be a language not possessing an optimal proof system. Then \(0L \cup 1L\) does not possess an optimal proof system, too. \(L\) and \(0L \cup 1L\) are polynomial time equivalent.
  \end{lemma}

  \begin{proof}
    Again, we will proof the contraposition. Assume that \(h\) is an optimal proof system for \(0L \cup 1L\). Let \(g \in \FP\) be a function mapping the first bit of any word to \(0\), that is \(g(bx) = 0x\). Then \(g \circ h\) is a proof system for \(0L\). Let \(h'\) be an arbitrary proof system for \(0L\). As \(h\) is optimal, we obtain \(h(f(x)) = h'(x)\) with a polynomial bounded \(f\). It follows that \(g(h(f(x))) = g(h'(x)) = h'(x)\) and hence \(g \circ h\) is an optimal proof system for \(0L\).

    Using \(x \mapsto 0x\), we obtain \(L \redmany 0L \cup 1L\), as \(x \in L \Leftrightarrow 0x \in 0L \cup 1L\). Using \(bx \mapsto x\), we obtain \(0L \cup 1L \redmany L\), as \(bx \in 0L \cup 1L \Leftrightarrow x \in L\).
  \end{proof}





  

  % results that could be included
  % - theorem 22 BKM09
  % - theorem 1.2 KMT03




  